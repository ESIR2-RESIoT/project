<!DOCTYPE html>
<html lang="fr">
<meta charset="utf-8"/>
<head>
    <meta name="viewport" content="width=device-width"/>
    <title>Projet RESIoT</title>
    <link rel="stylesheet" href="css/bootstrap.min.css">
    <script type="text/javascript" src="websocket.js"></script>
    <style>
        .img {
          display: block;
          margin-left: auto;
          margin-right: auto;
          text-align: center;
        }
        </style>
</head>
<body>
<div class="container body-content">
    <div class="container">
        <div class="row justify-content-center" style="padding-top:10px;">
            <h1>Projet RESIoT</h1>
        </div>
        <div class="row justify-content-start" style="padding-top:50px;">
            <div class="d-grid gap-2" style="padding-bottom:15px;">
                <input type="button" class="btn btn-success btn-lg" id="connect" value="Connexion" onclick="">
                <input type="button" class="btn btn-danger btn-lg" id="disconnect" value="Déconnexion" onclick=""
                       disabled="disabled">
            </div>
            <input type="button" id="startChenillard" class="btn btn-success btn-lg btn-block"
                   value="Démarrer/Arrêter le chenillard" onclick="" disabled="disabled">
            <div style="padding-top:10px;">
            </div>
            <input type="button" id="sensChenillard" class="btn btn-warning btn-lg btn-block"
                   value="Changer le mode du chenillard" onclick="" disabled="disabled">

            <div class="container" style="padding-top:10px;">
                <div class="row">
                    <div class="col-8">
                        <div class="alert alert-primary">
                            Changer la vitesse du chenillard :
                        </div>
                        <input type="button" id="increaseSpeed" class="btn btn-dark btn-lg btn-block"
                               value="Augmenter" onclick="" disabled="disabled">
                        <input type="text" id="speed" class="btn btn-secondary btn-lg" aria-pressed="true" value="valueSpeed"
                               onclick="" disabled="disabled">
                        <input type="button" id="decreaseSpeed" class="btn btn-dark btn-lg btn-block"
                               value="Diminuer" onclick="" disabled="disabled">
                    </div>
                    <div class="col-4 alert alert-primary">
                        <p id="statusLabel">Etat : <strong>Déconnecté</strong></p>
                        <p id="speedLabel"></p>
                        <p id="directionLabel"></p>
                    </div>
                </div>
            </div>


        </div>
        <div style="padding-top:15px;">
            <div class="alert alert-primary">
                Affichage en temps réel des LED :
            </div>
        </div>

        <div class = "img">
            <img id="led0" src="images/led_red.png">
            <img id="led1" src="images/led_red.png">
            <img id="led2" src="images/led_red.png">
            <img id="led3" src="images/led_red.png">
        </div>
        <div class="row justify-content-start" style="padding-top:10px;">
            <div class="col" style="padding-top:250px;">
                <h2>Objectif</h2>
                <div class="row justify-content-start" style="padding-top:100px;">
                    <p>L'objectif du projet est, à partir de la page web, commander le KNX qui lance ou arrète un chenillard de
                        DEL</p>
                    <p>Plusieurs étapes permettent de mener à bien le projet :</p>
                    <ul>
                        <li>1. Choix des langages de programmation</li>
                        <li>2. Création d'un serveur web</li>
                        <li>3. Création d'une page web pour commander le KNX</li>
                        <li>4. Mettre en place la partie asynchrone</li>
                    </ul>
                </div>

                <h2>Architecture</h2>
                <img src="images/architecture.png" alt="Architecture" width="auto" height="850">
            </div>
            <div class="col" style="padding-top:250px;">
                <h2>A propos</h2>
                <label>Un projet réalisé par Mathis Certenais et Matéo Fontanel</label>
            </div>
        </div>
    </div>
</div>
<script type="text/javascript">
    val chaserState = false
    val speed = 0.5
    $("connect").onclick = function(event) { wstool.connect() }
    $("disconnect").onclick = function(event) { wstool.close() }
    $("startChenillard").onclick = function(event) {
        chaserState = !chaserState
        httpPost("state",JSON.stringify(chaserState))
    };

    $("sensChenillard").onclick = function(event) { httpPost("direction","") }
    $("speed25").onclick = function(event) { httpPost("speed","0.25") }
    $("speed50").onclick = function(event) { httpPost("speed","0.5") }
    $("speed75").onclick = function(event) { httpPost("speed","0.75") }
    $("speed100").onclick = function(event) { httpPost("speed","1") }

</script>
</body>
</html>